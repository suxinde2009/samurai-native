<!DOCTYPE html>
<html>
<head>
    <title>Use initial height for auto height if initial width is zero</title>
    <link rel="help" href="http://www.w3.org/TR/css-device-adapt/#constraining-viewport-descriptor-values">
    <style type="text/css">
        @viewport {
            width: 100px;
            height: auto;
        }
    </style>
    <script type="text/javascript">
        if (window.testRunner)
            testRunner.injectStyleSheet("@viewport { width: extend-to-zoom 980px; min-zoom: 0.25; max-zoom: 5; height: auto; zoom: auto; user-zoom: zoom; orientation: auto }", true);

        function test() {
            if (window.testRunner) {
                testRunner.dumpAsText();
                alert(internals.viewportAsText(document, 1, 0, 200));
            }
        }
    </script>
</head>
<body onload="test();"></body>
</html>
